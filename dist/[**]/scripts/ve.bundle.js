!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";var n=(r(1),r(2),{defaults:{apiBase:"/api-v2",descriptorUrl:"/envelope-descriptors/",envelopesUrl:"/api-v2/envelopes",docmentsAppendix:"/documents/",userDataEndpoint:"/user-data"},state:{busy:!0,params:{definition_id:null,data_endpoint:null},preset:""}});n.helpers={getParamsAsObjects:function(){var t=new Url;return t.query},outputMissingKeys:function(t){Object.keys(t).map(function(e){t[e]||console.warn("Value for key ''"+e+"' is missing")})},fetchDefinition:function(){return fetch(n.defaults.apiBase+n.defaults.descriptorUrl+n.state.params.definition_id,{method:"GET",headers:new Headers({Authorization:n.state.accessToken})}).then(function(t){return t.json().then(function(t){return t})})},fetchTemplateData:function(){return fetch(n.defaults.apiBase+n.state.params.data_endpoint,{method:"GET",headers:new Headers({Authorization:n.state.accessToken})}).then(function(t){return t.json().then(function(t){return t.userData})})},sendTemplateData:function(t){return fetch(n.defaults.apiBase+n.state.params.data_endpoint+n.defaults.userDataEndpoint,{method:"POST",headers:new Headers({Authorization:n.state.accessToken,"Content-Type":"application/json"}),body:JSON.stringify(t)})},ensureEnvelope:function(t){t||console.log("Something right?")}},n.validate=function(t,e){console.log(" i should say what is going on right ?")},n.actions={fetchTemplateData:n.helpers.fetchTemplateData,sendTemplateData:n.helpers.sendTemplateData,ensureEnvelope:n.helpers.ensureEnvelope},n.init=function(){n.state.params=n.helpers.getParamsAsObjects(),n.state.accessToken="JWT "+n.state.params.access_token,n.ready=new Promise(function(t,e){Promise.all([n.helpers.fetchDefinition().then(function(t){return n.state.descriptor=t}),n.helpers.fetchTemplateData().then(function(t){return n.state.userData=t})]).then(function(){n.state.busy=!1,t(n.state)})})}},function(t,e,r){(function(t,e,r){"use strict";!function(t){function n(t){var e={path:!0,query:!0,hash:!0};return t?(/^[a-z]+:/.test(t)&&(e.protocol=!0,e.host=!0,/[-a-z0-9]+(\.[-a-z0-9])*:\d+/i.test(t)&&(e.port=!0),/\/\/(.*?)(?::(.*?))?@/.test(t)&&(e.user=!0,e.pass=!0)),e):e}function o(t,r,o){var i,l,d,m=u?"file://"+(e.platform.match(/^win/i)?"/":"")+p("fs").realpathSync("."):document.location.href;r||(r=m),u?i=p("url").parse(r):(i=document.createElement("a"),i.href=r);var y=n(r);d=r.match(/\/\/(.*?)(?::(.*?))?@/)||[];for(l in h)t[l]=y[l]?i[h[l]]||"":"";if(t.protocol=t.protocol.replace(/:$/,""),t.query=t.query.replace(/^\?/,""),t.hash=a(t.hash.replace(/^#/,"")),t.user=a(d[1]||""),t.pass=a(d[2]||""),t.port=f[t.protocol]==t.port||0==t.port?"":t.port,!y.protocol&&/[^\/#?]/.test(r.charAt(0))&&(t.path=r.split("?")[0].split("#")[0]),!y.protocol&&o){var g=new c(m.match(/(.*\/)/)[0]),v=g.path.split("/"),b=t.path.split("/"),w=["protocol","user","pass","host","port"],T=w.length;for(v.pop(),l=0;T>l;l++)t[w[l]]=g[w[l]];for(;".."===b[0];)v.pop(),b.shift();t.path=("/"!==r.charAt(0)?v.join("/"):"")+"/"+b.join("/")}t.path=t.path.replace(/^\/{2,}/,"/"),t.paths(("/"===t.path.charAt(0)?t.path.slice(1):t.path).split("/")),t.query=new s(t.query)}function i(t){return encodeURIComponent(t).replace(/'/g,"%27")}function a(t){return t=t.replace(/\+/g," "),t=t.replace(/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,r,n){var o=parseInt(e,16)-224,i=parseInt(r,16)-128;if(0===o&&32>i)return t;var a=parseInt(n,16)-128,s=(o<<12)+(i<<6)+a;return s>65535?t:String.fromCharCode(s)}),t=t.replace(/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,r){var n=parseInt(e,16)-192;if(2>n)return t;var o=parseInt(r,16)-128;return String.fromCharCode((n<<6)+o)}),t.replace(/%([0-7][0-9a-f])/gi,function(t,e){return String.fromCharCode(parseInt(e,16))})}function s(t){for(var e,r=/([^=&]+)(=([^&]*))?/g;e=r.exec(t);){var n=decodeURIComponent(e[1].replace(/\+/g," ")),o=e[3]?a(e[3]):"";void 0!==this[n]&&null!==this[n]?(this[n]instanceof Array||(this[n]=[this[n]]),this[n].push(o)):this[n]=o}}function c(t,e){o(this,t,!e)}var u="undefined"==typeof window&&"undefined"!=typeof r&&!0,p=u?t.require:null,h={protocol:"protocol",host:"hostname",port:"port",path:"pathname",query:"search",hash:"hash"},f={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443};s.prototype.toString=function(){var t,e,r="",n=i;for(t in this)if(!(this[t]instanceof Function||null===this[t]))if(this[t]instanceof Array){var o=this[t].length;if(o)for(e=0;o>e;e++)r+=r?"&":"",r+=n(t)+"="+n(this[t][e]);else r+=(r?"&":"")+n(t)+"="}else r+=r?"&":"",r+=n(t)+"="+n(this[t]);return r},c.prototype.clearQuery=function(){for(var t in this.query)this.query[t]instanceof Function||delete this.query[t];return this},c.prototype.queryLength=function(){var t,e=0;for(t in this)this[t]instanceof Function||e++;return e},c.prototype.isEmptyQuery=function(){return 0===this.queryLength()},c.prototype.paths=function(t){var e,r="",n=0;if(t&&t.length&&t+""!==t){for(this.isAbsolute()&&(r="/"),e=t.length;e>n;n++)t[n]=!n&&t[n].match(/^\w:$/)?t[n]:i(t[n]);this.path=r+t.join("/")}for(t=("/"===this.path.charAt(0)?this.path.slice(1):this.path).split("/"),n=0,e=t.length;e>n;n++)t[n]=a(t[n]);return t},c.prototype.encode=i,c.prototype.decode=a,c.prototype.isAbsolute=function(){return this.protocol||"/"===this.path.charAt(0)},c.prototype.toString=function(){return(this.protocol&&this.protocol+"://")+(this.user&&i(this.user)+(this.pass&&":"+i(this.pass))+"@")+(this.host&&this.host)+(this.port&&":"+this.port)+(this.path&&this.path)+(this.query.toString()&&"?"+this.query)+(this.hash&&"#"+i(this.hash))},t[t.exports?"exports":"Url"]=c}("undefined"!=typeof t&&t.exports?t:window)}).call(e,r(5)(t),r(6),function(){return this}())},function(t,e,r){"use strict";function n(t,e){return e.encode?e.strict?o(t):encodeURIComponent(t):t}var o=r(4),i=r(3);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){var e=Object.create(null);return"string"!=typeof t?e:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),n=r.shift(),o=r.length>0?r.join("="):void 0;n=decodeURIComponent(n),o=void 0===o?null:decodeURIComponent(o),void 0===e[n]?e[n]=o:Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]}),e):e},e.stringify=function(t,e){var r={encode:!0,strict:!0};return e=i(r,e),t?Object.keys(t).sort().map(function(r){var o=t[r];if(void 0===o)return"";if(null===o)return n(r,e);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(t){void 0!==t&&(null===t?i.push(n(r,e)):i.push(n(r,e)+"="+n(t,e)))}),i.join("&")}return n(r,e)+"="+n(o,e)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=n()?Object.assign:function(t,e){for(var n,a,s=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)o.call(n,u)&&(s[u]=n[u]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var p=0;p<a.length;p++)i.call(n,a[p])&&(s[a[p]]=n[a[p]])}}return s}},function(t,e){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(p===setTimeout)return setTimeout(t,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function i(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){m&&l&&(m=!1,l.length?d=l.concat(d):y=-1,d.length&&s())}function s(){if(!m){var t=o(a);m=!0;for(var e=d.length;e;){for(l=d,d=[];++y<e;)l&&l[y].run();y=-1,e=d.length}l=null,m=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var p,h,f=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(t){p=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var l,d=[],m=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||m||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}]);